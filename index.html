<!DOCTYPE html>
<html lang="es" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Generador de fichas de anime para Blogger con integración de MyAnimeList y AniList">
    <meta name="author" content="Anime Ficha Generator">
    <title>Generador de Ficha Anime</title>
    <link rel="icon" type="image/png" href="https://img.icons8.com/color/48/000000/anime.png">
    <link href="https://cdn.tailwindcss.com" rel="stylesheet">
    <link href="css/styles.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://apis.google.com/js/api.js"></script>
    <script src="https://accounts.google.com/gsi/client"></script>
</head>
<body class="bg-gray-900 text-gray-100 transition-colors duration-300">
    <!-- Encabezado fijo -->
    <header class="fixed top-0 left-0 right-0 bg-gray-800 shadow-lg z-50">
        <div class="max-w-7xl mx-auto px-4 py-3 flex justify-between items-center">
            <h1 class="text-2xl font-bold text-blue-400">Generador de Ficha Anime</h1>
            <div class="flex items-center gap-4">
                <button id="themeToggle" class="text-gray-300 hover:text-white">
                    <i class="fas fa-moon"></i>
                </button>
                <button id="authButton" class="btn">Iniciar sesión con Google</button>
            </div>
        </div>
    </header>

    <!-- Contenedor principal -->
    <main class="max-w-7xl mx-auto px-4 pt-24 pb-8">
        <!-- Loader global -->
        <div id="loader" class="hidden fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-50">
            <div class="animate-spin rounded-full h-16 w-16 border-t-4 border-blue-400"></div>
        </div>

        <!-- Estado de autenticación -->
        <div class="section-card auth mb-6">
            <h2 class="section-title">Autenticación</h2>
            <p id="authStatus" class="text-gray-300"></p>
            <label for="blogId" class="label">ID del Blog</label>
            <input type="text" id="blogId" value="3321190454875664092" class="input-field" readonly>
        </div>

        <!-- Búsqueda y edición -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
            <div class="section-card search">
                <h2 class="section-title">Buscar Anime (MyAnimeList)</h2>
                <div class="flex gap-4">
                    <input type="text" id="searchQuery" placeholder="ID de MyAnimeList (ej. 52215)" class="input-field flex-1">
                    <button id="searchButton" class="btn"><i class="fas fa-search mr-2"></i>Buscar</button>
                </div>
            </div>
            <div class="section-card edit">
                <h2 class="section-title">Editar Entrada</h2>
                <div class="flex gap-4">
                    <input type="text" id="postId" placeholder="ID de la entrada de Blogger" class="input-field flex-1">
                    <button id="loadPostButton" class="btn"><i class="fas fa-file-import mr-2"></i>Cargar</button>
                </div>
            </div>
        </div>

        <!-- Formulario -->
        <form id="animeForm" class="space-y-6">
            <!-- Información General -->
            <div class="section-card general">
                <h2 class="section-title">Información General</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label for="tituloPrincipal" class="label">Título principal</label>
                        <input type="text" id="tituloPrincipal" name="tituloPrincipal" class="input-field">
                    </div>
                    <div>
                        <label for="tituloAlternativo" class="label">Título alternativo</label>
                        <input type="text" id="tituloAlternativo" name="tituloAlternativo" class="input-field">
                    </div>
                    <div class="md:col-span-2">
                        <label for="sinopsis" class="label">Sinopsis</label>
                        <textarea id="sinopsis" name="sinopsis" class="input-field h-24"></textarea>
                    </div>
                    <div>
                        <label for="urlPortada" class="label">URL de la portada</label>
                        <input type="text" id="urlPortada" name="urlPortada" class="input-field">
                    </div>
                    <div>
                        <label for="estudio" class="label">Estudio(s)</label>
                        <input type="text" id="estudio" name="estudio" class="input-field">
                    </div>
                    <div>
                        <label for="urlMyAnimeList" class="label">URL MyAnimeList</label>
                        <input type="text" id="urlMyAnimeList" name="urlMyAnimeList" class="input-field">
                    </div>
                    <div>
                        <label for="urlAniList" class="label">URL AniList</label>
                        <input type="text" id="urlAniList" name="urlAniList" class="input-field">
                    </div>
                    <div>
                        <label for="trailerUrl" class="label">URL del Trailer</label>
                        <input type="text" id="trailerUrl" name="trailerUrl" class="input-field">
                    </div>
                    <div>
                        <label for="estado" class="label">Estado</label>
                        <div class="flex gap-4">
                            <label><input type="radio" name="estado" value="Finalizado" checked> Finalizado</label>
                            <label><input type="radio" name="estado" value="En emisión"> En emisión</label>
                            <label><input type="radio" name="estado" value="Próximamente"> Próximamente</label>
                        </div>
                    </div>
                    <div>
                        <label for="proxEpisodio" class="label">Próximo Episodio</label>
                        <input type="text" id="proxEpisodio" name="proxEpisodio" class="input-field">
                    </div>
                    <div>
                        <label for="duracion" class="label">Duración</label>
                        <input type="text" id="duracion" name="duracion" class="input-field">
                    </div>
                    <div>
                        <label for="temporadaEstacion" class="label">Temporada (estación)</label>
                        <select id="temporadaEstacion" name="temporadaEstacion" class="input-field">
                            <option value="invierno">Invierno</option>
                            <option value="primavera">Primavera</option>
                            <option value="verano">Verano</option>
                            <option value="otoño">Otoño</option>
                        </select>
                    </div>
                    <div>
                        <label for="temporadaAño" class="label">Temporada (año)</label>
                        <input type="text" id="temporadaAño" name="temporadaAño" class="input-field">
                    </div>
                    <div>
                        <label for="tipo" class="label">Tipo</label>
                        <div class="flex gap-4">
                            <label><input type="radio" name="tipo" value="WEBrip"> WEBrip</label>
                            <label><input type="radio" name="tipo" value="BD"> BD</label>
                        </div>
                    </div>
                    <div>
                        <label for="episodios" class="label">Episodios (ej. 06/25)</label>
                        <input type="text" id="episodios" name="episodios" class="input-field">
                    </div>
                    <div class="md:col-span-2">
                        <label for="tags" class="label">Géneros</label>
                        <select id="tags" name="tags" multiple class="input-field h-24">
                            <option value="acción">Acción</option>
                            <option value="ángeles">Ángeles</option>
                            <option value="artes marciales">Artes Marciales</option>
                            <option value="aventura">Aventura</option>
                            <option value="comedia">Comedia</option>
                            <option value="demonios">Demonios</option>
                            <option value="deporte">Deporte</option>
                            <option value="drama">Drama</option>
                            <option value="ecchi">Ecchi</option>
                            <option value="escolar">Escolar</option>
                            <option value="fantasía">Fantasía</option>
                            <option value="ficción">Ficción</option>
                            <option value="gore">Gore</option>
                            <option value="guerra">Guerra</option>
                            <option value="harem">Harem</option>
                            <option value="histórico">Histórico</option>
                            <option value="humor negro">Humor Negro</option>
                            <option value="idols">Idols</option>
                            <option value="isekai">Isekai</option>
                            <option value="juegos">Juegos</option>
                            <option value="magia">Magia</option>
                            <option value="mecha">Mecha</option>
                            <option value="militar">Militar</option>
                            <option value="misterio">Misterio</option>
                            <option value="música">Música</option>
                            <option value="parodia">Parodia</option>
                            <option value="peleas">Peleas</option>
                            <option value="película">Película</option>
                            <option value="poderes">Poderes</option>
                            <option value="psicológico">Psicológico</option>
                            <option value="recuentos de vida">Recuentos de Vida</option>
                            <option value="reencarnación">Reencarnación</option>
                            <option value="romance">Romance</option>
                            <option value="samurai">Samurai</option>
                            <option value="seinen">Seinen</option>
                            <option value="shounen">Shounen</option>
                            <option value="sobrenatural">Sobrenatural</option>
                            <option value="suspenso">Suspenso</option>
                            <option value="terror">Terror</option>
                            <option value="vampiros">Vampiros</option>
                            <option value="viaje en el tiempo">Viaje en el Tiempo</option>
                            <option value="videojuego">Videojuego</option>
                            <option value="yuri">Yuri</option>
                            <option value="zombies">Zombies</option>
                            <option value="2025 verano">2025 Verano</option>
                            <option value="2025 otoño">2025 Otoño</option>
                            <option value="2025 invierno">2025 Invierno</option>
                            <option value="2025 primavera">2025 Primavera</option>
                        </select>
                    </div>
                    <div class="md:col-span-2">
                        <label for="videoIframe" class="label">URL del Reproductor (iframe)</label>
                        <textarea id="videoIframe" name="videoIframe" class="input-field h-24"></textarea>
                    </div>
                    <div>
                        <label for="contrasena" class="label">Contraseña</label>
                        <input type="text" id="contrasena" name="contrasena" class="input-field" value="animeyseriesdo">
                    </div>
                </div>
            </div>

            <!-- Datos 720p HDL -->
            <div class="section-card hdl720">
                <h2 class="section-title">Datos 720p HDL</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label for="fansub720" class="label">Fansub</label>
                        <select id="fansub720" name="fansub720" class="input-field"></select>
                        <div class="add-option-container">
                            <input type="text" id="newFansub720" placeholder="Añadir nuevo fansub" class="input-field add-option-input">
                            <button type="button" onclick="addOption('fansub720', 'newFansub720')" class="btn add-option-btn"><i class="fas fa-plus mr-2"></i>Añadir</button>
                        </div>
                    </div>
                    <div>
                        <label for="subtitulos720" class="label">Subtítulos</label>
                        <select id="subtitulos720" name="subtitulos720" multiple class="input-field h-24">
                            <option value="Español Neutro">Español Neutro</option>
                            <option value="Español Latino">Español Latino</option>
                            <option value="Español España">Español España</option>
                        </select>
                    </div>
                    <div>
                        <label for="idioma720" class="label">Idioma (Audio)</label>
                        <select id="idioma720" name="idioma720" multiple class="input-field h-24">
                            <option value="Japonés">Japonés</option>
                            <option value="Latino">Latino</option>
                            <option value="Castellano">Castellano</option>
                        </select>
                    </div>
                    <div>
                        <label for="encoder720" class="label">Encoder</label>
                        <select id="encoder720" name="encoder720" class="input-field">
                            <option value="Nookcir DOM">Nookcir DOM</option>
                            <option value="NatsuZangetsu27">NatsuZangetsu27</option>
                        </select>
                        <div class="add-option-container">
                            <input type="text" id="newEncoder720" placeholder="Añadir nuevo encoder" class="input-field add-option-input">
                            <button type="button" onclick="addOption('encoder720', 'newEncoder720')" class="btn add-option-btn"><i class="fas fa-plus mr-2"></i>Añadir</button>
                        </div>
                    </div>
                    <div>
                        <label for="formato720" class="label">Formato</label>
                        <input type="text" id="formato720" name="formato720" value="MP4 (x264)" readonly class="input-field">
                    </div>
                    <div>
                        <label for="resolucion720" class="label">Resolución</label>
                        <input type="text" id="resolucion720" name="resolucion720" value="1280x720" readonly class="input-field">
                    </div>
                    <div>
                        <label for="comprimido720" class="label">Comprimido</label>
                        <div class="flex gap-4">
                            <label><input type="radio" name="comprimido720" value="Sí"> Sí</label>
                            <label><input type="radio" name="comprimido720" value="No" checked> No</label>
                        </div>
                    </div>
                    <div>
                        <label for="calidad720" class="label">Calidad</label>
                        <input type="text" id="calidad720" name="calidad720" value="Muy buena" readonly class="input-field">
                    </div>
                    <div>
                        <label for="tamaño720" class="label">Tamaño por archivo</label>
                        <input type="text" id="tamaño720" name="tamaño720" class="input-field">
                    </div>
                    <div>
                        <label for="servidores720" class="label">Servidores</label>
                        <select id="servidores720" name="servidores720" multiple class="input-field h-24">
                            <option value="Mega">Mega</option>
                            <option value="MediaFire">MediaFire</option>
                            <option value="File">File</option>
                            <option value="Index">Index</option>
                            <option value="TeraBox">TeraBox</option>
                        </select>
                        <div class="add-option-container">
                            <input type="text" id="newServidores720" placeholder="Añadir nuevo servidor" class="input-field add-option-input">
                            <button type="button" onclick="addOption('servidores720', 'newServidores720', true)" class="btn add-option-btn"><i class="fas fa-plus mr-2"></i>Añadir</button>
                        </div>
                    </div>
                    <div>
                        <label for="uploader720" class="label">Uploader</label>
                        <select id="uploader720" name="uploader720" class="input-field">
                            <option value="Nookcir DOM">Nookcir DOM</option>
                            <option value="NatsuZangetsu27">NatsuZangetsu27</option>
                        </select>
                    </div>
                    <div>
                        <label for="enlaces720" class="label">Enlaces 720p (Pastebin o Index)</label>
                        <input type="text" id="enlaces720" name="enlaces720" class="input-field">
                    </div>
                </div>
            </div>

            <!-- Datos 1080p FHD -->
            <div class="section-card fhd1080">
                <h2 class="section-title">Datos 1080p FHD</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label for="fansub1080" class="label">Fansub</label>
                        <select id="fansub1080" name="fansub1080" class="input-field"></select>
                        <div class="add-option-container">
                            <input type="text" id="newFansub1080" placeholder="Añadir nuevo fansub" class="input-field add-option-input">
                            <button type="button" onclick="addOption('fansub1080', 'newFansub1080')" class="btn add-option-btn"><i class="fas fa-plus mr-2"></i>Añadir</button>
                        </div>
                    </div>
                    <div>
                        <label for="subtitulos1080" class="label">Subtítulos</label>
                        <select id="subtitulos1080" name="subtitulos1080" multiple class="input-field h-24">
                            <option value="Español Neutro">Español Neutro</option>
                            <option value="Español Latino">Español Latino</option>
                            <option value="Español España">Español España</option>
                        </select>
                    </div>
                    <div>
                        <label for="idioma1080" class="label">Idioma (Audio)</label>
                        <select id="idioma1080" name="idioma1080" multiple class="input-field h-24">
                            <option value="Japonés">Japonés</option>
                            <option value="Español España">Español España</option>
                            <option value="Español Latino">Español Latino</option>
                        </select>
                    </div>
                    <div>
                        <label for="ripper1080" class="label">Ripper</label>
                        <select id="ripper1080" name="ripper1080" class="input-field">
                            <option value="VARYG">VARYG</option>
                        </select>
                        <div class="add-option-container">
                            <input type="text" id="newRipper1080" placeholder="Añadir nuevo ripper" class="input-field add-option-input">
                            <button type="button" onclick="addOption('ripper1080', 'newRipper1080')" class="btn add-option-btn"><i class="fas fa-plus mr-2"></i>Añadir</button>
                        </div>
                    </div>
                    <div>
                        <label for="raw1080" class="label">Raw</label>
                        <select id="raw1080" name="raw1080" class="input-field">
                            <option value="DKB Team">DKB Team</option>
                        </select>
                        <div class="add-option-container">
                            <input type="text" id="newRaw1080" placeholder="Añadir nuevo raw" class="input-field add-option-input">
                            <button type="button" onclick="addOption('raw1080', 'newRaw1080')" class="btn add-option-btn"><i class="fas fa-plus mr-2"></i>Añadir</button>
                        </div>
                    </div>
                    <div>
                        <label for="encode1080" class="label">Encode</label>
                        <select id="encode1080" name="encode1080" class="input-field">
                            <option value="Zero-Anime">Zero-Anime</option>
                        </select>
                        <div class="add-option-container">
                            <input type="text" id="newEncode1080" placeholder="Añadir nuevo encode" class="input-field add-option-input">
                            <button type="button" onclick="addOption('encode1080', 'newEncode1080')" class="btn add-option-btn"><i class="fas fa-plus mr-2"></i>Añadir</button>
                        </div>
                    </div>
                    <div>
                        <label for="muxeo1080" class="label">Muxeo</label>
                        <select id="muxeo1080" name="muxeo1080" class="input-field">
                            <option value="Colla">Colla</option>
                            <option value="NatsuZangetsu27">NatsuZangetsu27</option>
                            <option value="Nookcir DOM">Nookcir DOM</option>
                        </select>
                        <div class="add-option-container">
                            <input type="text" id="newMuxeo1080" placeholder="Añadir nuevo muxeo" class="input-field add-option-input">
                            <button type="button" onclick="addOption('muxeo1080', 'newMuxeo1080')" class="btn add-option-btn"><i class="fas fa-plus mr-2"></i>Añadir</button>
                        </div>
                    </div>
                    <div>
                        <label for="formato1080" class="label">Formato</label>
                        <select id="formato1080" name="formato1080" class="input-field">
                            <option value="MP4 (x264)">MP4 (x264)</option>
                            <option value="MKV (x264)">MKV (x264)</option>
                            <option value="MKV (x265)">MKV (x265)</option>
                        </select>
                        <div class="add-option-container">
                            <input type="text" id="newFormato1080" placeholder="Añadir nuevo formato" class="input-field add-option-input">
                            <button type="button" onclick="addOption('formato1080', 'newFormato1080')" class="btn add-option-btn"><i class="fas fa-plus mr-2"></i>Añadir</button>
                        </div>
                    </div>
                    <div>
                        <label for="resolucion1080" class="label">Resolución</label>
                        <input type="text" id="resolucion1080" name="resolucion1080" value="1920x1080" readonly class="input-field">
                    </div>
                    <div>
                        <label for="comprimido1080" class="label">Comprimido</label>
                        <div class="flex gap-4">
                            <label><input type="radio" name="comprimido1080" value="Sí"> Sí</label>
                            <label><input type="radio" name="comprimido1080" value="No" checked> No</label>
                        </div>
                    </div>
                    <div>
                        <label for="calidad1080" class="label">Calidad</label>
                        <input type="text" id="calidad1080" name="calidad1080" value="Excelente" readonly class="input-field">
                    </div>
                    <div>
                        <label for="tamaño1080" class="label">Tamaño por archivo</label>
                        <input type="text" id="tamaño1080" name="tamaño1080" class="input-field">
                    </div>
                    <div>
                        <label for="servidores1080" class="label">Servidores</label>
                        <select id="servidores1080" name="servidores1080" multiple class="input-field h-24">
                            <option value="Mega">Mega</option>
                            <option value="MediaFire">MediaFire</option>
                            <option value="File">File</option>
                            <option value="Index">Index</option>
                            <option value="TeraBox">TeraBox</option>
                        </select>
                        <div class="add-option-container">
                            <input type="text" id="newServidores1080" placeholder="Añadir nuevo servidor" class="input-field add-option-input">
                            <button type="button" onclick="addOption('servidores1080', 'newServidores1080', true)" class="btn add-option-btn"><i class="fas fa-plus mr-2"></i>Añadir</button>
                        </div>
                    </div>
                    <div>
                        <label for="uploader1080" class="label">Uploader</label>
                        <select id="uploader1080" name="uploader1080" class="input-field">
                            <option value="Nookcir DOM">Nookcir DOM</option>
                            <option value="NatsuZangetsu27">NatsuZangetsu27</option>
                            <option value="Colla">Colla</option>
                        </select>
                    </div>
                    <div>
                        <label for="enlaces1080" class="label">Enlaces 1080p (Pastebin o Index)</label>
                        <input type="text" id="enlaces1080" name="enlaces1080" class="input-field">
                    </div>
                </div>
            </div>

            <!-- Acciones -->
            <div class="flex gap-4 flex-wrap">
                <button type="button" onclick="generateHTML()" class="btn tooltip" data-tooltip="Genera el código HTML para Blogger">
                    <i class="fas fa-code mr-2"></i>Generar HTML
                </button>
                <button type="button" id="publishButton" disabled class="btn tooltip" data-tooltip="Publica directamente en Blogger">
                    <i class="fas fa-upload mr-2"></i>Publicar
                </button>
                <select id="publishStatus" class="input-field p-2">
                    <option value="PUBLISHED">Publicado</option>
                    <option value="DRAFT">Borrador</option>
                </select>
            </div>
        </form>

        <!-- Vista Previa -->
        <div class="section-card preview">
            <h2 class="section-title">Vista Previa</h2>
            <div class="preview-container">
                <div id="preview"></div>
            </div>
        </div>

        <!-- HTML Generado -->
        <div class="section-card html">
            <h2 class="section-title">HTML Generado</h2>
            <div class="html-output-container">
                <textarea id="htmlOutput" readonly class="input-field h-40 font-mono"></textarea>
                <button onclick="copyHTML()" class="btn mt-2"><i class="fas fa-copy mr-2"></i>Copiar HTML</button>
            </div>
        </div>

        <!-- Probar Botones de Preferencias -->
        <div class="section-card buttons">
            <h2 class="section-title">Probar Botones de Preferencias</h2>
            <div class="bookmark-buttons">
                <button class="bookmark-btn" id="btn-follow"><i class="fas fa-eye mr-2"></i>Seguir</button>
                <button class="bookmark-btn" id="btn-favorite"><i class="fas fa-star mr-2"></i>Favorito</button>
                <button class="bookmark-btn" id="btn-plan"><i class="fas fa-list mr-2"></i>En Plan</button>
            </div>
        </div>
    </main>

    <script type="module" src="js/main.js"></script>
</body>
</html>
